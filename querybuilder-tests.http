@baseUrl = http://localhost:5249

### ===========================================
### TESTES DO QUERYBUILDER SERVICE
### ===========================================

### 1. Listar tabelas disponíveis
GET {{baseUrl}}/api/QueryBuilderTest/tabelas-disponiveis
Content-Type: application/json

### ===========================================
### 2. QUERY SIMPLES (SEM JOINS)
### ===========================================

### 2.1. Query simples - CLIENTES
GET {{baseUrl}}/api/QueryBuilderTest/simples/CLIENTES
Content-Type: application/json

### 2.2. Query simples - PRODUTOS
GET {{baseUrl}}/api/QueryBuilderTest/simples/PRODUTOS
Content-Type: application/json

### 2.3. Query simples - PEDIDOS
GET {{baseUrl}}/api/QueryBuilderTest/simples/PEDIDOS
Content-Type: application/json

### 2.4. Query simples - CATEGORIAS
GET {{baseUrl}}/api/QueryBuilderTest/simples/CATEGORIAS
Content-Type: application/json

### ===========================================
### 3. QUERY COM JOINS (PROFUNDIDADE 1)
### ===========================================

### 3.1. CLIENTES com JOINs (deve incluir PEDIDOS e ENDERECOS)
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/CLIENTES?profundidade=1
Content-Type: application/json

### 3.2. PEDIDOS com JOINs (deve incluir CLIENTES e ITENS_PEDIDO)
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/PEDIDOS?profundidade=1
Content-Type: application/json

### 3.3. PRODUTOS com JOINs (deve incluir CATEGORIAS e ITENS_PEDIDO)
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/PRODUTOS?profundidade=1
Content-Type: application/json

### ===========================================
### 4. QUERY COM JOINS (PROFUNDIDADE 2)
### ===========================================

### 4.1. CLIENTES com JOINs profundidade 2
# Deve incluir: CLIENTES → PEDIDOS → ITENS_PEDIDO
#               CLIENTES → ENDERECOS
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/CLIENTES?profundidade=2
Content-Type: application/json

### 4.2. PEDIDOS com JOINs profundidade 2
# Deve incluir: PEDIDOS → CLIENTES → ENDERECOS
#               PEDIDOS → ITENS_PEDIDO → PRODUTOS
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/PEDIDOS?profundidade=2
Content-Type: application/json

### ===========================================
### 5. QUERY COM JOINS (PROFUNDIDADE 3)
### ===========================================

### 5.1. CLIENTES com JOINs profundidade 3
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/CLIENTES?profundidade=3
Content-Type: application/json

### ===========================================
### 6. QUERY COM FILTROS
### ===========================================

### 6.1. Filtrar clientes por nome
POST {{baseUrl}}/api/QueryBuilderTest/com-filtros/CLIENTES
Content-Type: application/json

{
  "NOME": "João Silva"
}

### 6.2. Filtrar clientes por email
POST {{baseUrl}}/api/QueryBuilderTest/com-filtros/CLIENTES
Content-Type: application/json

{
  "EMAIL": "joao.silva@email.com"
}

### 6.3. Filtrar produtos por categoria
POST {{baseUrl}}/api/QueryBuilderTest/com-filtros/PRODUTOS
Content-Type: application/json

{
  "ID_CATEGORIA": 1
}

### 6.4. Filtrar pedidos por status
POST {{baseUrl}}/api/QueryBuilderTest/com-filtros/PEDIDOS
Content-Type: application/json

{
  "STATUS": "PAGO"
}

### 6.5. Múltiplos filtros - Produtos ativos da categoria 1
POST {{baseUrl}}/api/QueryBuilderTest/com-filtros/PRODUTOS
Content-Type: application/json

{
  "ID_CATEGORIA": 1,
  "ATIVO": 1
}

### ===========================================
### 7. TESTES DE ERRO
### ===========================================

### 7.1. Tabela inexistente
GET {{baseUrl}}/api/QueryBuilderTest/simples/TABELA_INEXISTENTE
Content-Type: application/json

### 7.2. Filtro com campo inválido (deve ignorar)
POST {{baseUrl}}/api/QueryBuilderTest/com-filtros/CLIENTES
Content-Type: application/json

{
  "CAMPO_INVALIDO": "teste",
  "NOME": "João Silva"
}

### ===========================================
### 8. ANÁLISE DE SQL GERADO
### ===========================================

### 8.1. Analisar SQL de CLIENTES com JOINs completos
# Copie o SQL retornado e teste no SQL Developer
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/CLIENTES?profundidade=2
Content-Type: application/json

### 8.2. Analisar SQL de PEDIDOS com JOINs completos
# Copie o SQL retornado e teste no SQL Developer
GET {{baseUrl}}/api/QueryBuilderTest/com-joins/PEDIDOS?profundidade=2
Content-Type: application/json
